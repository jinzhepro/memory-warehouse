# AGENTS.md

This file provides guidance to agents when working with code in this repository.

## 项目架构规则 (非显而易见部分)

### 架构设计原则

- 纯本地存储架构，无后端依赖，确保用户数据隐私
- 单页应用架构，页面间通过 uni-app 路由系统导航
- 状态管理集中化，所有数据操作通过 Pinia store 统一管理

### 数据流设计

- 单向数据流：UI → Store → 本地存储
- 状态变更必须通过 store 的 actions 进行
- 本地存储操作封装在 Promise 函数中，确保异步一致性

### 组件架构

- 页面级组件负责业务逻辑和状态管理
- 组件间通信通过 store 进行，避免直接 props 传递
- 自定义导航栏设计，提供统一的用户体验

### 存储架构

- 键值对存储，使用统一前缀 `memory_warehouse_`
- 数据结构扁平化，避免嵌套查询
- 标签系统独立存储，支持多对多关系

### 扩展性考虑

- 模块化样式系统，支持主题切换
- 条件编译架构，支持多平台部署
- 工具类设计，提高代码复用性

### 性能优化

- 计算属性缓存，减少重复计算
- 懒加载设计，按需初始化数据
- 响应式数据最小化，避免过度响应

### 安全性设计

- 本地数据验证，防止存储异常
- 输入长度限制，避免存储溢出
- 用户操作确认，防止误操作
